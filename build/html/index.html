<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>To do App</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../../node_modules/angular-date-picker/angular-date-picker.css">
    <script src="../../node_modules/angular/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular-animate.min.js"></script>
    <script src="../../src/app.module.js"></script>
    <script src="../../src/todoApp.module.js"></script>
    <script src="../../src/services/settings.config.js"></script>
    <script src="../../src/controllers/nav.controller.js"></script>
    <script src="../../src/controllers/page.controller.js"></script>
    <script src="../../src/controllers/todo.controller.js"></script>
    <script src="../../src/controllers/settings.controller.js"></script>
    <script src="../../src/directives/datepicker.directive.js"></script>
    <script src="../../src/components/todo-item.component.js"></script>
    <script src="../../src/components/tm-select.component.js"></script>
    <script src="../../node_modules/angular-date-picker/angular-date-picker.js"></script>
  </head>
  <body ng-app="todoApp">
    <div id="title-bar">
      <p>{{ title }}</p>
      <button class="close" name="close" ng-click="close()"></button>
      <button class="maximize" name="maximize" ng-click="maximize()" ng-disabled="maximize_enabled"></button>
      <button class="minimize" name="minimize" ng-click="minimize()"></button>
    </div>
    <aside>
      <nav ng-controller="NavController as nav">
        <div class="profile-info">
          <div class="profile">
            <div ng-if="nav.avatar == ''">{{ nav.first_letter }}</div><img ng-src="{{ nav.avatar }}" ng-class="{'is-user': nav.user_avail}">
          </div><span>{{ nav.user }}</span>
        </div>
        <ul>
          <li><a ng-class="{'selected' : 'todo' ==  nav.page}" href="#" ng-click="nav.applyPage('todo')">{{ nav.todo }}</a></li>
          <li><a ng-class="{'selected' : 'todo_form' ==  nav.page}" href="#" ng-click="nav.applyPage('todo_form')">{{ nav.new_todo }}</a></li>
          <li><a ng-class="{'selected' : 'completed' ==  nav.page}" href="#" ng-click="nav.applyPage('completed')">{{ nav.completed }}</a></li>
          <li><a ng-class="{'selected' : 'settings' ==  nav.page}" href="#" ng-click="nav.applyPage('settings')">{{ nav.settings }}</a></li>
          <button class="logout" ng-click="nav.log_out()">{{ nav.logout }}</button>
        </ul>
      </nav>
    </aside>
    <main ng-controller="PageController as pg" ng-class="pg.fontsize">
      <div class="pages" ng-repeat="item in pg.pages" ng-class="{'is-shown': item === pg.page()}" ng-include="item + '.html'"></div>
      <div class="alert-dialog" ng-if="pg.alert">{{ pg.msg }}</div>
    </main>
  </body>
</html>